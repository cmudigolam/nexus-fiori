<mvc:View controllerName="com.nexus.asset.controller.Master" xmlns="sap.m"
	xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc"   xmlns:u="sap.ui.unified"
    xmlns:semantic="sap.f.semantic" xmlns:tree="sap.ui.table" xmlns:rm="sap.ui.table.rowmodes">
    <f:DynamicPage id="dynamicPageId" toggleHeaderOnTitleClick="false" title="{i18n>assetTitle}" fitContent="true">
        <f:title>
            <f:DynamicPageTitle id="dynamicPageTitle">
                <f:heading>
                    <Title id="pageTitle" text="{i18n>lblAssetHierarchy}" />
                </f:heading>
                <f:actions>
                    <!--actions-->
                </f:actions>
            </f:DynamicPageTitle>
        </f:title>
        <f:content>
            <VBox id="mainVBox" class="assetMasterContent sapUiResponsiveContentPadding" fitContainer="true">           
                <tree:TreeTable
                    id="TreeTableBasic"
                    class="assetTreeTable"
                    rows="{path:'LocalDataModel>/treeTable', parameters:{arrayNames:['rows']}}"
                    alternateRowColors="true"
                    noData="{i18n>msgSelectAssetToView}"
                    selectionMode="Single"
                    selectionBehavior="RowOnly"
                    rowSelectionChange="onRowSelect"
                    toggleOpenState="onToggleOpenState"
                    enableSelectAll="false"
                    ariaLabelledBy="pageTitle">
                    <tree:rowMode>
                        <rm:Auto minRowCount="14" />
                    </tree:rowMode>
                    <tree:extension>
                        <OverflowToolbar style="Clear" class="assetMasterToolbar">
                            <Title text="{i18n>lblRootAsset}" level="H5">
                                <layoutData>
                                    <OverflowToolbarLayoutData priority="Low" />
                                </layoutData>
                            </Title>
                            <ToolbarSpacer />
                            <Label text="{i18n>lblAsset}" labelFor="assetSelector">
                                <layoutData>
                                    <OverflowToolbarLayoutData priority="Low" />
                                </layoutData>
                            </Label>
                            <ComboBox
                                id="assetSelector"
                                width="100%"
                                placeholder="{i18n>lblSelectAsset}"
                                items="{LocalDataModel>/treeList}"
                                selectedKey="{LocalDataModel>/selectedNode}"
                                selectionChange="onNodeSelect">
                                <layoutData>
                                    <OverflowToolbarLayoutData priority="NeverOverflow" minWidth="10rem" maxWidth="22rem" shrinkable="true" />
                                </layoutData>
                                <core:Item key="{LocalDataModel>CV_ID}" text="{LocalDataModel>Name}" />
                            </ComboBox>
                        </OverflowToolbar>
                    </tree:extension>
                <tree:columns>
                    <tree:Column id="colCategories">
                        <Label id="lblCategories" text="{i18n>lblAssetName}"/>
                        <tree:template>
                            <HBox>
                                <core:Icon src="{LocalDataModel>icon}" size="1.2rem" color="#427cac" class="sapUiTinyMarginEnd"/>
                                <Text id="txtCategoryName" text="{LocalDataModel>Name}" />
                            </HBox>
                        </tree:template>
                    </tree:Column>
                    <tree:Column id="colAssetType">
                        <Label id="lblAssetType" text="{i18n>lblAssetType}"/>
                        <tree:template>
                            <Text id="txtAssetType" text="{LocalDataModel>AssetType}" />
                        </tree:template>
                    </tree:Column>
                </tree:columns>
            </tree:TreeTable>
            </VBox>
        </f:content>
    </f:DynamicPage>
</mvc:View>
